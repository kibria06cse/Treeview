@{
    ViewBag.Title = "Home Page";
}


<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>

<div class="row">
    <div class="col-md-4">
        <h2>Getting started</h2>
        <p>
            ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
            enables a clean separation of concerns and gives you full control over markup
            for enjoyable, agile development.
        </p>
        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301865">Learn more &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>Get more libraries</h2>
        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <div id="tree1"></div>
    </div>
</div>

@section Scripts{
<script>

    var data = [
    {
        label: 'node1',
        children: [
            {
                label: 'child1',
                children: [
                    {
                        label: 'grandChild1', children: [
                            { label: 'grandChild3', link: "www.google.com" },
                            { label: 'grandChild4' }
                        ]
                    },
                     { label: 'grandChild2' }
                ]
            },
            { label: 'child2' }
        ]
    },
    {
        label: 'node2',
        children: [
            { label: 'child3' }
        ]
    }
    ];


    //$(function () {
    //    $('#tree1').tree({
    //        data: data
    //    });
    //});


    $.getJSON(
    '/home/GetData',
    function (data) {
        $('#tree1').tree({
            data: data,
            saveState: true
        });
    }
);
    $('#tree1').bind(
    'tree.click',
    function (event) {
        event.preventDefault();
        var id = event.node.Id;
        // window.location.replace("http://stackoverflow.com");
        //var url = @Url.Action("ChangeUrl", "Home")/id;
        var url = "../home/ChangeUrl/" + id;
        window.location.href = url;
    }
);
</script>
}